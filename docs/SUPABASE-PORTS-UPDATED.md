# Supabase Ports Updated - Port Conflict Resolution

**Date**: January 19, 2026  
**Status**: âœ… **SUCCESSFUL** - Supabase started with new ports

---

## ğŸ” Problem

**Cursor IDE** (Process 52484) was listening on Supabase's default ports:
- 54320 (shadow database)
- 54321 (API)
- 54322 (database) âš ï¸ **BLOCKING**
- 54323 (Studio)
- 54324 (Mailpit)
- 54327 (Analytics)

This prevented Supabase from starting.

---

## âœ… Solution

Changed all Supabase ports in `config.toml` to avoid Cursor's port forwarding:

### Port Changes

| Service | Old Port | New Port |
|---------|----------|----------|
| **API** | 54321 | **65432** |
| **Database** | 54322 | **65430** |
| **Shadow DB** | 54320 | **65431** |
| **Studio** | 54323 | **65433** |
| **Mailpit** | 54324 | **65434** |
| **Analytics** | 54327 | **65435** |
| **Pooler** | 54329 | 54329 (unchanged) |

---

## ğŸ“ Files Updated

### 1. `supabase/config.toml`

Updated all port configurations:
```toml
[api]
port = 65432  # Changed from 54321

[db]
port = 65430  # Changed from 54322
shadow_port = 65431  # Changed from 54320

[studio]
port = 65433  # Changed from 54323

[inbucket]
port = 65434  # Changed from 54324

[analytics]
port = 65435  # Changed from 54327
```

### 2. `.env.local`

Updated all Supabase URLs to use new ports:
```env
# Base URLs
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:65432
SUPABASE_STUDIO_URL=http://127.0.0.1:65433
SUPABASE_MAILPIT_URL=http://127.0.0.1:65434
SUPABASE_INBUCKET_URL=http://127.0.0.1:65434

# API Endpoints
SUPABASE_REST_URL=http://127.0.0.1:65432/rest/v1
SUPABASE_GRAPHQL_URL=http://127.0.0.1:65432/graphql/v1
SUPABASE_FUNCTIONS_URL=http://127.0.0.1:65432/functions/v1
SUPABASE_STORAGE_URL=http://127.0.0.1:65432/storage/v1
SUPABASE_MCP_URL=http://127.0.0.1:65432/mcp

# Database Connection
SUPABASE_DB_URL=postgresql://postgres:postgres@127.0.0.1:65430/postgres
DB_URL=postgresql://postgres:postgres@127.0.0.1:65430/postgres
```

---

## âœ… Verification

Supabase started successfully:

```
Started supabase local development setup.

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ”§ Development Tools                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Studio  â”‚ http://127.0.0.1:65433     â”‚
â”‚ Mailpit â”‚ http://127.0.0.1:65434     â”‚
â”‚ MCP     â”‚ http://127.0.0.1:65432/mcp â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸŒ APIs                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Project URL    â”‚ http://127.0.0.1:65432              â”‚
â”‚ REST           â”‚ http://127.0.0.1:65432/rest/v1      â”‚
â”‚ GraphQL        â”‚ http://127.0.0.1:65432/graphql/v1   â”‚
â”‚ Edge Functions â”‚ http://127.0.0.1:65432/functions/v1 â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ â› Database                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ URL â”‚ postgresql://postgres:postgres@127.0.0.1:65430/postgres â”‚
â•°â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

---

## ğŸ”‘ Authentication Keys

Keys remain the same (generated by Supabase):
- **Publishable**: `sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH`
- **Secret**: `sb_secret_N7UND0UgjKTVK-Uodkm0Hg_xSvEMPvz`
- **Anon Key**: (JWT token - unchanged)
- **Service Role Key**: (JWT token - unchanged)

---

## ğŸ“¦ Storage Configuration

Storage URLs updated:
- **URL**: `http://127.0.0.1:65432/storage/v1/s3`
- **Access Key**: `625729a08b95bf1b7ff351a663f3a23c`
- **Secret Key**: `850181e4652dd023b7a98c58ae0d2d34bd487ee0cc3254aed6eda37307425907`
- **Region**: `local`

---

## âš ï¸ Important Notes

### Port Range Choice

Ports **65430-65435** were chosen because:
- âœ… Not in Windows reserved port ranges
- âœ… Not used by Cursor IDE
- âœ… High enough to avoid common service conflicts
- âœ… Sequential for easy reference

### Cursor Port Forwarding

Cursor IDE is still listening on ports 54320-54327, but this no longer conflicts with Supabase since we're using different ports.

### Future Considerations

If you need to:
- **Use default ports**: Configure Cursor to exclude Supabase ports (see `docs/CURSOR-PORT-CONFLICT-ANALYSIS.md`)
- **Change ports again**: Update both `config.toml` and `.env.local`
- **Share with team**: Document the port changes so team members use correct ports

---

## ğŸ“‹ Next Steps

1. âœ… **Supabase started** - Running on new ports
2. âœ… **Config updated** - `config.toml` uses new ports
3. âœ… **Environment updated** - `.env.local` updated with new URLs
4. â¬œ **Test application** - Verify Next.js app connects correctly
5. â¬œ **Update documentation** - Note port changes for team

---

**Last Updated**: January 19, 2026  
**Status**: âœ… **PORTS UPDATED** - Supabase running successfully on ports 65430-65435
